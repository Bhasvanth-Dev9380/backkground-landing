@import "tailwindcss";

:root {
  --background: #F7F7F7;
  --foreground: #1a1a1a;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif;
}

/* ── Card stack cycling ── */
@keyframes card-cycle {
  0%, 20%  { opacity: 1;   z-index: 10;  transform: translateY(0px) translateX(0px); }
  25%, 45% { opacity: 0;   z-index: 100; transform: translateY(-8px) translateX(32px); }
  50%, 70% { opacity: 0;   z-index: -1;  transform: translateY(20px) translateX(-20px); }
  75%, 95% { opacity: 0.8; z-index: 0;   transform: translateY(8px) translateX(-8px); }
}

/* ── Corner marks on hover ── */
.card-hover-corners {
  overflow: visible;
}

.card-hover-corners::before {
  content: '';
  position: absolute;
  pointer-events: none;
  z-index: -1;
  opacity: 0;
  inset: 0;
}

/* ::before = top-left + top-right corners */
.card-hover-corners::before {
  background:
    linear-gradient(#FF8C00, #FF8C00) 0 0 / 8px 1.5px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 0 0 / 1.5px 8px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 100% 0 / 8px 1.5px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 100% 0 / 1.5px 8px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 0 100% / 8px 1.5px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 0 100% / 1.5px 8px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 100% 100% / 8px 1.5px no-repeat,
    linear-gradient(#FF8C00, #FF8C00) 100% 100% / 1.5px 8px no-repeat;
}

/* Inset-based smooth reveal for rectangular cards (adapts to card shape) */
@keyframes corner-bounce-in {
  0%   { opacity: 0; inset: 0;
         background-size: 8px 1.5px, 1.5px 8px, 8px 1.5px, 1.5px 8px,
                          8px 1.5px, 1.5px 8px, 8px 1.5px, 1.5px 8px; }
  60%  { opacity: 1; inset: -18px;
         background-size: 20px 2px, 2px 20px, 20px 2px, 2px 20px,
                          20px 2px, 2px 20px, 20px 2px, 2px 20px; }
  100% { opacity: 1; inset: -16px;
         background-size: 18px 2px, 2px 18px, 18px 2px, 2px 18px,
                          18px 2px, 2px 18px, 18px 2px, 2px 18px; }
}

/* Fixed-size smooth reveal for stack containers (no intrinsic dimensions) */
@keyframes corner-bounce-in-fixed {
  0%   { opacity: 0; left: 0; top: 0; width: 48px; height: 48px;
         background-size: 8px 1.5px, 1.5px 8px, 8px 1.5px, 1.5px 8px,
                          8px 1.5px, 1.5px 8px, 8px 1.5px, 1.5px 8px; }
  60%  { opacity: 1; left: -22px; top: -22px; width: 92px; height: 92px;
         background-size: 20px 2px, 2px 20px, 20px 2px, 2px 20px,
                          20px 2px, 2px 20px, 20px 2px, 2px 20px; }
  100% { opacity: 1; left: -20px; top: -20px; width: 88px; height: 88px;
         background-size: 18px 2px, 2px 18px, 18px 2px, 2px 18px,
                          18px 2px, 2px 18px, 18px 2px, 2px 18px; }
}

.card-hover-corners:hover::before {
  animation: corner-bounce-in 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
}

/* Stack containers: override to fixed dimensions (no intrinsic size) */
#stack-io::before, #stack-sdks::before, #stack-stt::before, #stack-llm::before, #stack-tts::before {
  inset: auto;
  width: 48px;
  height: 48px;
  left: 0;
  top: 0;
}
#stack-io:hover::before, #stack-sdks:hover::before, #stack-stt:hover::before, #stack-llm:hover::before, #stack-tts:hover::before {
  animation: corner-bounce-in-fixed 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
}

/* ── Scramble text reveal (per-label, matched lengths) ── */
@keyframes scramble-3 {
  0%   { content: "━━━"; opacity: 0.4; }
  8%   { content: "X7K"; opacity: 0.6; }
  16%  { content: "◇3P"; opacity: 0.7; }
  24%  { content: "W5J"; opacity: 0.8; }
  32%  { content: "R2◆"; opacity: 0.8; }
  40%  { content: "Q3F"; opacity: 0.85; }
  48%  { content: "L4T"; opacity: 0.85; }
  56%  { content: "Z1V"; opacity: 0.9; }
  64%  { content: "B8N"; opacity: 0.9; }
  72%  { content: "5TT"; opacity: 0.95; }
  80%  { content: attr(data-label); opacity: 0.95; }
  100% { content: attr(data-label); opacity: 1; }
}

@keyframes scramble-4 {
  0%   { content: "━━━━"; opacity: 0.4; }
  8%   { content: "X7K◆"; opacity: 0.6; }
  16%  { content: "◇3PF"; opacity: 0.7; }
  24%  { content: "W5JL"; opacity: 0.8; }
  32%  { content: "R2◆F"; opacity: 0.8; }
  40%  { content: "Q3FB"; opacity: 0.85; }
  48%  { content: "L4T9"; opacity: 0.85; }
  56%  { content: "Z1V◇"; opacity: 0.9; }
  64%  { content: "B8N7"; opacity: 0.9; }
  72%  { content: "U5ER"; opacity: 0.95; }
  80%  { content: attr(data-label); opacity: 0.95; }
  100% { content: attr(data-label); opacity: 1; }
}

@keyframes scramble-5 {
  0%   { content: "━━━━━"; opacity: 0.4; }
  8%   { content: "X7K◆M"; opacity: 0.6; }
  16%  { content: "◇3PF◆"; opacity: 0.7; }
  24%  { content: "W5JL◆"; opacity: 0.8; }
  32%  { content: "R2◆FH"; opacity: 0.8; }
  40%  { content: "Q3FB8"; opacity: 0.85; }
  48%  { content: "L4T9W"; opacity: 0.85; }
  56%  { content: "Z1V◇G"; opacity: 0.9; }
  64%  { content: "SP1NA"; opacity: 0.9; }
  72%  { content: "SPIN4"; opacity: 0.95; }
  80%  { content: attr(data-label); opacity: 0.95; }
  100% { content: attr(data-label); opacity: 1; }
}

@keyframes scramble-8 {
  0%   { content: "━━━━━━━━"; opacity: 0.4; }
  8%   { content: "X7K◆M2R◇"; opacity: 0.6; }
  16%  { content: "◇3PF◆H4Q"; opacity: 0.7; }
  24%  { content: "W5JL◆T9Z"; opacity: 0.8; }
  32%  { content: "R2◆FH9P3"; opacity: 0.8; }
  40%  { content: "Q3FB8◇N7"; opacity: 0.85; }
  48%  { content: "L4T9W5◆J"; opacity: 0.85; }
  56%  { content: "D4T4BA5E"; opacity: 0.9; }
  64%  { content: "DA7ABAS3"; opacity: 0.9; }
  72%  { content: "DATABAS3"; opacity: 0.95; }
  80%  { content: attr(data-label); opacity: 0.95; }
  100% { content: attr(data-label); opacity: 1; }
}

.card-hover-corners[data-label]::after {
  content: attr(data-label);
  display: block;
  position: absolute;
  left: 50%;
  top: calc(100% + 15px);
  transform: translateX(-50%);
  white-space: nowrap;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #FF8C00;
  opacity: 0;
  z-index: 50;
  pointer-events: none;
  font-family: var(--font-mono), monospace;
}

/* Per-label scramble animations (matched char lengths) */
[data-label="User"]:hover::after       { animation: scramble-4 0.7s step-end forwards; }
[data-label="Spina"]:hover::after      { animation: scramble-5 0.7s step-end forwards; }
[data-label="Database"]:hover::after   { animation: scramble-8 0.7s step-end forwards; }
[data-label="Input"]:hover::after      { animation: scramble-5 0.7s step-end forwards; }
[data-label="APIs"]:hover::after       { animation: scramble-4 0.7s step-end forwards; }
[data-label="NLU"]:hover::after        { animation: scramble-3 0.7s step-end forwards; }
[data-label="LLM"]:hover::after        { animation: scramble-3 0.7s step-end forwards; }
[data-label="Gen"]:hover::after        { animation: scramble-3 0.7s step-end forwards; }

/* Stack containers: fixed ::after position (no intrinsic height) */
#stack-io[data-label]::after,
#stack-sdks[data-label]::after,
#stack-stt[data-label]::after,
#stack-llm[data-label]::after,
#stack-tts[data-label]::after {
  display: block;
  top: 63px;
  left: 15px;
}

/* No ::after on cards without data-label */
.card-hover-corners:not([data-label])::after {
  content: none;
}

/* I/O stack */
#stack-io > div:nth-child(n+2) { animation: card-cycle 8s ease-in-out infinite; }
#stack-io > div:nth-child(2) { animation-delay: 0s; }
#stack-io > div:nth-child(3) { animation-delay: -2s; }
#stack-io > div:nth-child(4) { animation-delay: -4s; }
#stack-io > div:nth-child(5) { animation-delay: -6s; }

/* SDKs stack (offset -0.7s) */
#stack-sdks > div:nth-child(n+2) { animation: card-cycle 8s ease-in-out infinite; }
#stack-sdks > div:nth-child(2) { animation-delay: -0.7s; }
#stack-sdks > div:nth-child(3) { animation-delay: -2.7s; }
#stack-sdks > div:nth-child(4) { animation-delay: -4.7s; }
#stack-sdks > div:nth-child(5) { animation-delay: -6.7s; }

/* STT stack (Phase B: child 5 starts active) */
#stack-stt > div:nth-child(n+2) { animation: card-cycle 8s ease-in-out infinite; }
#stack-stt > div:nth-child(2) { animation-delay: -2s; }
#stack-stt > div:nth-child(3) { animation-delay: -4s; }
#stack-stt > div:nth-child(4) { animation-delay: -6s; }
#stack-stt > div:nth-child(5) { animation-delay: 0s; }

/* LLM stack (offset -1.3s) */
#stack-llm > div:nth-child(n+2) { animation: card-cycle 8s ease-in-out infinite; }
#stack-llm > div:nth-child(2) { animation-delay: -1.3s; }
#stack-llm > div:nth-child(3) { animation-delay: -3.3s; }
#stack-llm > div:nth-child(4) { animation-delay: -5.3s; }
#stack-llm > div:nth-child(5) { animation-delay: -7.3s; }

/* TTS stack (Phase B, offset -1s) */
#stack-tts > div:nth-child(n+2) { animation: card-cycle 8s ease-in-out infinite; }
#stack-tts > div:nth-child(2) { animation-delay: -3s; }
#stack-tts > div:nth-child(3) { animation-delay: -5s; }
#stack-tts > div:nth-child(4) { animation-delay: -7s; }
#stack-tts > div:nth-child(5) { animation-delay: -1s; }

/* ── Hero word reveal ── */
@keyframes word-reveal {
  from { opacity: 0; transform: translateY(12px); filter: blur(4px); }
  to   { opacity: 1; transform: translateY(0); filter: blur(0); }
}

.word-animate {
  display: inline-block;
  opacity: 0;
  margin-right: 0.22em;
  animation: word-reveal 0.5s ease-out forwards;
}

/* ── Label push-down click effect ── */
.label-push {
  cursor: default;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.label-push:hover {
  transform: translateY(2px) !important;
  box-shadow: -1px 1px 0px 0px rgba(255, 140, 0, 0.25) !important;
}

/* ── Card border sweep (Agents Framework) ── */
@property --border-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes border-sweep {
  to { --border-angle: 360deg; }
}
